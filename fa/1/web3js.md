---
title: Web3.js
actions: ['بررسی پاسخ', 'راهنمایی']
material:
  saveZombie: true
  zombieResult:
    zombie:
      lesson: 1
    hideSliders: true
    answer: 1
---
<div dir="rtl">
  
قرارداد سالیدیتی ما تکمیل شد! حالا باید یک فرانت جاوااسکریپتی بنویسیم که با قراردادمون در تعامل باشه.

اتریوم یک کتابخونه جاوااسکریپت به اسم **_Web3.js_** داره.

در دروس آینده، می‌بینیم که چطور باید یک قرارداد رو دیپلوی کنیم و از استفاده کنیم.اما فعلا بیایین یه نگاهی بندازیم به چند تا نمونه کد برای اینکه ببینیم Web3.js چطور با قرارداد دیپلوی شده ارتباط برقرا می‌کنه.

اصلا نگران نباشید اگر چیزی ازش متوجه نمی‌شید.
</div>

```
// Here's how we would access our contract:
var abi = /* abi generated by the compiler */
var ZombieFactoryContract = web3.eth.contract(abi)
var contractAddress = /* our contract address on Ethereum after deploying */
var ZombieFactory = ZombieFactoryContract.at(contractAddress)
// `ZombieFactory` has access to our contract's public functions and events

// some sort of event listener to take the text input:
$("#ourButton").click(function(e) {
  var name = $("#nameInput").val()
  // Call our contract's `createRandomZombie` function:
  ZombieFactory.createRandomZombie(name)
})

// Listen for the `NewZombie` event, and update the UI
var event = ZombieFactory.NewZombie(function(error, result) {
  if (error) return
  generateZombie(result.zombieId, result.name, result.dna)
})

// take the Zombie dna, and update our image
function generateZombie(id, name, dna) {
  let dnaStr = String(dna)
  // pad DNA with leading zeroes if it's less than 16 characters
  while (dnaStr.length < 16)
    dnaStr = "0" + dnaStr

  let zombieDetails = {
    // first 2 digits make up the head. We have 7 possible heads, so % 7
    // to get a number 0 - 6, then add 1 to make it 1 - 7. Then we have 7
    // image files named "head1.png" through "head7.png" we load based on
    // this number:
    headChoice: dnaStr.substring(0, 2) % 7 + 1,
    // 2nd 2 digits make up the eyes, 11 variations:
    eyeChoice: dnaStr.substring(2, 4) % 11 + 1,
    // 6 variations of shirts:
    shirtChoice: dnaStr.substring(4, 6) % 6 + 1,
    // last 6 digits control color. Updated using CSS filter: hue-rotate
    // which has 360 degrees:
    skinColorChoice: parseInt(dnaStr.substring(6, 8) / 100 * 360),
    eyeColorChoice: parseInt(dnaStr.substring(8, 10) / 100 * 360),
    clothesColorChoice: parseInt(dnaStr.substring(10, 12) / 100 * 360),
    zombieName: name,
    zombieDescription: "A Level 1 CryptoZombie",
  }
  return zombieDetails
}
```
<div dir="rtl">
  
جاوااسکریپت ما مقادیری که در `zombieDetails` بالا تولید شده رو دریافت می‌کنه و با استفاده از برخی برنامه‌های جاوااسکریپت مبتنی بر مرورگر ( در اینجا از Vue.js استفاده کردیم) تصاویر رو عوض می‌کنه و فیلترهای CSS رو اعمال می‌کنه. در درس‌های بعدی کدهای مربوطه رو می‌بینید.

# خودت امتحان کن!

یه اسمی رو در باکس سمت راست بنویس و ببین چه نوع زامبی‌ای بهت نمایش می‌ده!

**زمانی که زامبی مورد علاقه‌ت رو پیدا کردی روی "فصل بعد" کلیک کن تا زامبی‌تو ذخیره کنی و درس اول رو کامل کنی!**
</div>
