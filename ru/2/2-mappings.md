---
title: –ê–¥—Ä–µ—Å–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
actions: ['–ü—Ä–æ–≤–µ—Ä–∏—Ç—å', '–ü–æ–¥—Å–∫–∞–∑–∞—Ç—å']
material:
  editor:
    language: sol
    startingCode: |
      pragma solidity ^0.4.19;

      contract ZombieFactory {

          event NewZombie(uint zombieId, string name, uint dna);

          uint dnaDigits = 16;
          uint dnaModulus = 10 ** dnaDigits;

          struct Zombie {
              string name;
              uint dna;
          }

          Zombie[] public zombies;

          // –ó–¥–µ—Å—å –∑–∞–¥–∞–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

          function _createZombie(string _name, uint _dna) private {
              uint id = zombies.push(Zombie(_name, _dna)) - 1;
              NewZombie(id, _name, _dna);
          } 

          function _generateRandomDna(string _str) private view returns (uint) {
              uint rand = uint(keccak256(_str));
              return rand % dnaModulus;
          }

          function createRandomZombie(string _name) public {
              uint randDna = _generateRandomDna(_name);
              _createZombie(_name, randDna);
          }

      }
    answer: >
      pragma solidity ^0.4.19;


      contract ZombieFactory {

          event NewZombie(uint zombieId, string name, uint dna);

          uint dnaDigits = 16;
          uint dnaModulus = 10 ** dnaDigits;

          struct Zombie {
              string name;
              uint dna;
          }

          Zombie[] public zombies;

          mapping (uint => address) public zombieToOwner;
          mapping (address => uint) ownerZombieCount;

          function _createZombie(string _name, uint _dna) private {
              uint id = zombies.push(Zombie(_name, _dna)) - 1;
              NewZombie(id, _name, _dna);
          } 

          function _generateRandomDna(string _str) private view returns (uint) {
              uint rand = uint(keccak256(_str));
              return rand % dnaModulus;
          }

          function createRandomZombie(string _name) public {
              uint randDna = _generateRandomDna(_name);
              _createZombie(_name, randDna);
          }

      }
---

–î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º –Ω–∞—à—É –∏–≥—Ä—É –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π, –¥–∞–≤ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞–∂–¥–æ–º—É –∑–æ–º–±–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

–ß—Ç–æ–±—ã —ç—Ç–æ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è 2 –Ω–æ–≤—ã—Ö —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö: `address` (–∞–¥—Ä–µ—Å–∞) –∏ `mapping` (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è).

## –ê–¥—Ä–µ—Å–∞

–ë–ª–æ–∫—á–µ–π–Ω Ethereum —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **_–∞–∫–∫–∞—É–Ω—Ç–æ–≤_** (—Å—á–µ—Ç–æ–≤), –≤—Ä–æ–¥–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö. –ù–∞ –∞–∫–∫–∞—É–Ω—Ç–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–∞–ª–∞–Ω—Å **_–≠—Ñ–∏—Ä–∞_** (–∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã –±–ª–æ–∫—á–µ–π–Ω–∞ Ethereum). –¢—ã –º–æ–∂–µ—à—å –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏ –≤ –≠—Ñ–∏—Ä–µ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—á–µ—Ç–∞, —Ç–∞–∫–∂–µ –∫–∞–∫ —Ç—ã –ø–µ—Ä–µ–≤–æ–¥–∏—à—å –¥–µ–Ω—å–≥–∏ —Å–æ —Å–≤–æ–µ–≥–æ –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞ –Ω–∞ —Å—á–µ—Ç–∞ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π.

–£ –∫–∞–∂–¥–æ–≥–æ —Å—á–µ—Ç–∞ –µ—Å—Ç—å `address` (–∞–¥—Ä–µ—Å), –Ω–∞–ø–æ–¥–æ–±–∏–µ –Ω–æ–º–µ—Ä–∞ –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞. –≠—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á–µ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: 

`0x0cE446255506E92DF41614C46F1d6df9Cc969183`

(–≠—Ç–æ—Ç –∞–¥—Ä–µ—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–æ–º–∞–Ω–¥–µ –ö—Ä–∏–ø—Ç–æ–∑–æ–º–±–∏. –ï—Å–ª–∏ —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –∏–≥—Ä–∞, –º–æ–∂–µ—à—å –ø–æ—Å–ª–∞—Ç—å –Ω–∞–º —ç—Ñ–∏—Ä!üòâ). 

–ú—ã –∏–∑—É—á–∏–º —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –±–ª–æ–∫—á–µ–π–Ω-–∞–¥—Ä–µ—Å–æ–≤ –≤ —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ, —Å–µ–π—á–∞—Å –∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ **–∞–¥—Ä–µ—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —á–µ–ª–æ–≤–µ–∫—É** (–∏–ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É). 

–ü–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∑–æ–º–±–∏. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –∑–æ–º–±–∏, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—è —Å –Ω–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –º—ã –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –ø—Ä–∞–≤–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –∑–æ–º–±–∏ –∫ –∞–¥—Ä–µ—Å—É Ethereum, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑–≤–∞–ª —Ñ—É–Ω–∫—Ü–∏—é. 

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

–í –ø–µ—Ä–≤–æ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ **_—Å—Ç—Ä—É–∫—Ç—É—Ä—ã_** –∏ **_–º–∞—Å—Å–∏–≤—ã_**. **_–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è_** ‚Äî —ç—Ç–æ –µ—â–µ –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Solidity.

–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `mapping` (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π) –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫-—Ç–æ —Ç–∞–∫:

```
// –î–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã —Ö—Ä–∞–Ω–∏–º uint, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Å—Ç–∞—Ç–æ–∫ –Ω–∞ —Å—á–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 
mapping (address => uint) public accountBalance;
// –ò–ª–∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è / –ø–æ–∏—Å–∫–∞ –∏–º–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ userId 
mapping (uint => string) userIdToName;
```

–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è - —ç—Ç–æ, –ø–æ —Å—É—Ç–∏, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∏–ø–∞ ¬´–∫–ª—é—á ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ¬ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏ –∏—Å–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ. –í –ø–µ—Ä–≤–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–ª—é—á ‚Äî —ç—Ç–æ ¬´–∞–¥—Ä–µ—Å¬ª, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ - ¬´uint¬ª, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–ª—é—á - ¬´uint¬ª, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî ¬´—Å—Ç—Ä–æ–∫–∞¬ª. 

# –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è

–ß—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∞–≤–∞—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –∑–æ–º–±–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–≤–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è: –æ–¥–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∞–¥—Ä–µ—Å, –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∑–æ–º–±–∏, –≤—Ç–æ—Ä–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–∏–º–∏ –∑–æ–º–±–∏ –≤–ª–∞–¥–µ–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

1. –°–æ–∑–¥–∞–π `mapping` (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ) –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `zombieToOwner`. –ö–ª—é—á ‚Äî `uint` (–º—ã –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∏ –∏—Å–∫–∞—Ç—å –∑–æ–º–±–∏ –ø–æ id). –ó–Ω–∞—á–µ–Ω–∏–µ - `address`. C–¥–µ–ª–∞–µ–º —ç—Ç–æ —Å–æ–æ–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–º (public).

2. –°–æ–∑–¥–∞–π `mapping` (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ) –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `ownerZombieCount`, –≥–¥–µ –∫–ª—é—á ‚Äî `address`, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî `uint`.
