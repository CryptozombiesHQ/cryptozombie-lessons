---
title: Truffle 시작하기
actions: ["checkAnswer", "hints"]
requireLogin: true
material:
  terminal:
    help: |
      먼저 `truffle init`을 실행해야 합니다. 다음으로 `npm install truffle-hdwallet-provider`를 실행합니다.
    commands:
      "truffle init":
        hint: truffle init
        output: |
          Downloading...
          Unpacking...
          Setting up...
          Unbox successful. Sweet!

          Commands:

              Compile:        truffle compile
              Migrate:        truffle migrate
              Test contracts: truffle test
      "npm install truffle-hdwallet-provider":
        hint: npm install truffle-hdwallet-provider
        output: |
          + truffle-hdwallet-provider@0.0.6
          added 1 package from 1 contributor and audited 71402 packages in 5.612s
          found 0 vulnerabilities
---

**Truffle**을 설치했으므로 이제 `truffle init`을 실행하여 새 프로젝트를 초기화할 시간이라네. 다음 구조의 폴더 및 구성 파일 셋을 생성하기만 하면 된다네:

```
├── contracts
    ├── Migrations.sol
├── migrations
    ├── 1_initial_migration.js
└── test
truffle-config.js
truffle.js
```

Contracts, migrations, tests... 꽤나 복잡해보이는군😟

걱정하지 말게. **Truffle** 사용법을 배운다고 해서 뇌가 파먹히지는 않을테니 말이야. 이 장에서는 **Truffle**의 기본 프로젝트 구조를 안내할 것이라네. 자네가 **Truffle** 사용 방법을 익히게 된다면 스마트 컨트랙트를 배포하는 것이 매우 쉬울 것이야.

## Truffle의 기본 디렉토리 구조

`CryptoZombies` 디렉토리 내에서 `truffle init` 명령을 실행했으니 여러 디렉토리와 몇몇 JavaScript 파일 및 Solidity 파일들이 만들어졌을 것이라네. 자세히 살펴보도록 하지:

- **_contracts_**: **Truffle**이 자네의 모든 스마트 컨트랙트를 찾을 것으로 기대하는 곳이라네. 코드를 체계적으로 유지하기 위해 `contracts/tokens`와 같은 중첩 폴더를 만들 수도 있지. 꽤나 깔끔하군😉.

> Note: `truffle init`은 `Migrations.sol`이라는 컨트랙트와 해당 마이그레이션 파일을 자동으로 생성해야 합니다. 잠시 후에 설명하겠습니다.

- **_migrations_**: migration은 **Truffle**에게 스마트 컨트랙트를 배포하는 방법을 알려주는 JavaScript 파일이라네.

- **_test_**: here we are expected to put the unit tests which will be JavaScript or Solidity files. Remember, once a contract is deployed it can't be changed, making it essential that we test our smart contracts before we deploy them.

- **_truffle.js_** and **_truffle-config.js_**: config files used to store the network settings for deployment. **Truffle** needs two config files because on Windows having both `truffle.js` and `truffle.exe` in the same folder might generate conflicts. Long story short - if you are running Windows, it is advised to delete `truffle.js` and use `truffle-config.js` as the default config file. Check out **Truffle**'s <a href="https://truffleframework.com/docs/truffle/reference/configuration" target=_blank>official documentation</a> to further your understanding.

But why should I use this directory structure? I'm not used to it and it looks complicated...

Well, there's are a few good reasons. First, **Truffle** will not work as expected if you change the names of these folders.

Second, by adhering to this convention your projects will be easily understood by other developers. To put it short, using a standard folder structures and code conventions make it easier if you expand or change your team in the future.

## truffle-hdwallet-provider

In this lesson, we will be using _Infura_ to deploy our code to **_Ethereum_**. This way, we can run the application without needing to set up our own **_Ethereum_** node or wallet.
However, to keep things secure, _Infura_ does not manage the private keys, which means it can't sign transactions on our behalf. Since deploying a smart contract requires **Truffle** to sign transactions, we are going to need a tool called `truffle-hdwallet-provider`. Its only purpose is to handle the transaction signing.

> Note: Maybe you are asking why we chose not to install `truffle-hdwallet-provider` in the previous chapter using something like:

```JavaScript
npm install truffle truffle-hdwallet-provider
```

Well... the `truffle init` command expects to find an empty directory. If there's any file there, it will error out. Thus, we need to do everything in the correct order and install `truffle-hdwallet-provider` after we run `truffle init`.

# Put it to the test:

1. Run `truffle init`. This command generates the directory structure that we've discussed.

2. Run `npm install truffle-hdwallet-provider`.
