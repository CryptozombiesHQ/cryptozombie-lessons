---
title: serializedGameState ë¶„í•´í•˜ê¸°
actions: ['checkAnswer', 'hints']
requireLogin: false
material:
  editor:
    language: solidity
    startingCode:
      "examplegame.sol": |
        pragma solidity 0.4.25;

        import "./ZB/ZBGameMode.sol";

        contract ExampleGame is ZBGameMode  {

            function beforeMatchStart(bytes serializedGameState) external {

                // ì—¬ê¸°ì„œ ì‹œì‘í•˜ê²Œ

            }
        }
      "ZBGameMode.sol": |
        // This file is here for your reference, but doesn't contain all the imports necessary
        // to compile. You can find a repo with all the final files at:
        // https://github.com/loomnetwork/zb_game_mode

        pragma solidity ^0.4.25;

        import "./ZBEnum.sol";
        import "./ZBSerializer.sol";

        contract ZBGameMode {
            using ZBSerializer for ZBSerializer.SerializedGameStateChanges;
            using ZBSerializer for GameState;

            enum Player {
                Player1,
                Player2
            }

            struct PlayerState {
                string id;
                //PlayerActionType currentAction = 2;
                //OverlordInstance overlordInstance = 3;
                CardInstance[] cardsInHand;
                //CardInstance[] CardsInPlay;
                CardInstance[] cardsInDeck;
                Deck deck;
                uint8 defense;
                uint8 currentGoo;
                uint8 gooVials;
                uint32 turnTime;
                //bool hasDrawnCard = 11;
                //repeated CardInstance cardsInGraveyard = 12;
                uint8 initialCardsInHandCount;
                uint8 maxCardsInPlay;
                uint8 maxCardsInHand;
                uint8 maxGooVials;
            }

            struct Deck {
                int64 id;
                string name;
                int64 heroId;
            }

            struct CardInstance {
                int32 instanceId;
                string mouldName;
                int32 defense;
                bool defenseInherited;
                int32 attack;
                bool attackInherited;
                int32 gooCost;
                bool gooCostInherited;
            }

            struct GameState {
                int64 id;
                uint8 currentPlayerIndex;
                PlayerState[] playerStates;
            }

            struct Vector2Int {
                int32 x;
                int32 y;
            }

            struct Rect {
                Vector2Int position;
                Vector2Int size;
            }

            struct CustomUiLabel {
                Rect rect;
                string text;
            }

            struct CustomUiButton {
                Rect rect;
                string title;
                bytes onClickCallData;
            }

            event GameStateChanges (
                bytes serializedChanges
            );

            function getInterfaceVersion() external pure returns (int) {
                return 1;
            }

            function getDataStructureVersion() external pure returns (int) {
                return 1;
            }

            function beforeMatchStart(bytes) external {
            }

            function afterInitialDraw(bytes) external {
            }

            function getCustomUi() external view returns (bytes) {
                return new bytes(0);
            }
        }
      "ZBSerializer.sol": |
        // This file is here for your reference, but doesn't contain all the imports necessary
        // to compile. You can find a repo with all the final files at:
        // https://github.com/loomnetwork/zb_game_mode

        pragma solidity ^0.4.24;

        import "./ZBEnum.sol";
        import "./ZBGameMode.sol";
        import "./SerialityBinaryStream.sol";

        library ZBSerializer {
            using SerialityBinaryStream for SerialityBinaryStream.BinaryStream;
            uint constant defaultSerializedGameStateChangesBufferSize = 512;
            uint constant defaultSerializedCustomUiBufferSize = 512;

            event GameStateChanges (
                bytes serializedChanges
            );

            struct SerializedGameStateChanges {
                SerialityBinaryStream.BinaryStream stream;
            }

            struct SerializedCustomUi {
                SerialityBinaryStream.BinaryStream stream;
            }

            // GameState deserialization

            function init(ZBGameMode.GameState memory self, bytes serializedGameState) internal pure {
                SerialityBinaryStream.BinaryStream memory stream =
                    SerialityBinaryStream.BinaryStream(serializedGameState, serializedGameState.length);

                self.id = stream.readInt64();
                self.currentPlayerIndex = stream.readUint8();

                self.playerStates = new ZBGameMode.PlayerState[](2);
                for (uint i = 0; i < self.playerStates.length; i++) {
                    self.playerStates[i] = deserializePlayerState(stream);
                }
            }

            function deserializePlayerState(SerialityBinaryStream.BinaryStream memory stream) private pure returns (ZBGameMode.PlayerState) {
                ZBGameMode.PlayerState memory player;

                player.id = stream.readString();
                player.deck = deserializeDeck(stream);
                player.cardsInHand = deserializeCardInstanceArray(stream);
                player.cardsInDeck = deserializeCardInstanceArray(stream);
                player.defense = stream.readUint8();
                player.currentGoo = stream.readUint8();
                player.gooVials = stream.readUint8();
                player.turnTime = stream.readUint32();
                player.initialCardsInHandCount = stream.readUint8();
                player.maxCardsInPlay = stream.readUint8();
                player.maxCardsInHand = stream.readUint8();
                player.maxGooVials = stream.readUint8();

                return player;
            }

            function serializeCardInstance(SerialityBinaryStream.BinaryStream memory stream, ZBGameMode.CardInstance card) private pure {
                stream.writeInt32(card.instanceId);
                stream.writeString(card.mouldName);
                stream.writeInt32(card.defense);
                stream.writeBool(card.attackInherited);
                stream.writeInt32(card.attack);
                stream.writeBool(card.defenseInherited);
                stream.writeInt32(card.gooCost);
                stream.writeBool(card.gooCostInherited);
            }

            function deserializeCardInstance(SerialityBinaryStream.BinaryStream memory stream) private pure returns (ZBGameMode.CardInstance) {
                ZBGameMode.CardInstance memory card;

                card.instanceId = stream.readInt32();
                card.mouldName = stream.readString();
                card.defense = stream.readInt32();
                card.defenseInherited = stream.readBool();
                card.attack = stream.readInt32();
                card.attackInherited = stream.readBool();
                card.gooCost = stream.readInt32();
                card.gooCostInherited = stream.readBool();

                return card;
            }

            function serializeCardInstanceArray(SerialityBinaryStream.BinaryStream memory stream, ZBGameMode.CardInstance[] cards) internal pure {
                stream.writeUint32(uint32(cards.length));

                for (uint i = 0; i < cards.length; i++) {
                    serializeCardInstance(stream, cards[i]);
                }
            }

            function deserializeCardInstanceArray(SerialityBinaryStream.BinaryStream memory stream) private pure returns (ZBGameMode.CardInstance[]) {
                uint count = stream.readUint32();

                ZBGameMode.CardInstance[] memory cards = new ZBGameMode.CardInstance[](count);
                for (uint i = 0; i < count; i++) {
                    cards[i] = deserializeCardInstance(stream);
                }

                return cards;
            }

            function deserializeDeck(SerialityBinaryStream.BinaryStream memory stream) private pure returns (ZBGameMode.Deck) {
                ZBGameMode.Deck memory deck;
                deck.id = stream.readInt64();
                deck.name = stream.readString();
                deck.heroId = stream.readInt64();

                return deck;
            }

            function serializeStartGameStateChangeAction(
                SerialityBinaryStream.BinaryStream memory stream,
                ZBEnum.GameStateChangeAction action
                ) private pure {
                stream.writeUint32(uint32(action));
            }

            function serializeStartGameStateChangeAction(
                SerialityBinaryStream.BinaryStream memory stream,
                ZBEnum.GameStateChangeAction action,
                ZBGameMode.Player player
                ) private pure {
                stream.writeUint32(uint32(action));
                stream.writeUint8(uint8(player));
            }

            // CardInstance

            function changeMouldName(ZBGameMode.CardInstance memory self, string mouldName) internal pure {
                self.mouldName = mouldName;
            }

            function changeDefense(ZBGameMode.CardInstance memory self, uint8 defense) internal pure {
                self.defense = defense;
                self.defenseInherited = false;
            }

            function changeAttack(ZBGameMode.CardInstance memory self, uint8 attack) internal pure {
                self.attack = attack;
                self.attackInherited = false;
            }

            function changeGooCost(ZBGameMode.CardInstance memory self, uint8 gooCost) internal pure {
                self.gooCost = gooCost;
                self.gooCostInherited = false;
            }

            // SerializedGameStateChanges

            function init(SerializedGameStateChanges memory self) internal pure {
                init(self, defaultSerializedGameStateChangesBufferSize);
            }

            function init(SerializedGameStateChanges memory self, uint bufferSize) internal pure {
                self.stream = SerialityBinaryStream.BinaryStream(new bytes(bufferSize), bufferSize);
            }

            function getBytes(SerializedGameStateChanges memory self) internal pure returns (bytes) {
                return self.stream.buffer;
            }

            function emit(SerializedGameStateChanges memory self) internal {
                emit GameStateChanges(getBytes(self));
            }

            function changePlayerDefense(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 defense) internal pure returns (uint) {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerDefense, player);
                stream.writeUint8(uint8(defense));
            }

            function changePlayerCurrentGoo(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 currentGoo) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerCurrentGoo, player);
                stream.writeUint8(uint8(currentGoo));
            }

            function changePlayerCurrentGooVials(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 gooVials) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerGooVials, player);
                stream.writeUint8(uint8(gooVials));
            }

            function changePlayerCardsInDeck(
                SerializedGameStateChanges memory self,
                ZBGameMode.Player player,
                ZBGameMode.CardInstance[] cards,
                uint cardCount
                ) internal pure {
                require(
                    cardCount <= cards.length,
                    "cardCount > cards.length"
                );

                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerCardsInDeck, player);
                stream.writeUint32(uint32(cardCount));

                for (uint i = 0; i < cardCount; i++) {
                    serializeCardInstance(stream, cards[i]);
                }
            }

            function changePlayerCardsInDeck(
                SerializedGameStateChanges memory self,
                ZBGameMode.Player player,
                ZBGameMode.CardInstance[] cards
                ) internal pure {
                changePlayerCardsInDeck(self, player, cards, cards.length);
            }

            function changePlayerCardsInHand(
                SerializedGameStateChanges memory self,
                ZBGameMode.Player player,
                ZBGameMode.CardInstance[] cards,
                uint cardCount
                ) internal pure {
                require(
                    cardCount <= cards.length,
                    "cardCount > cards.length"
                );

                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerCardsInHand, player);
                stream.writeUint32(uint32(cardCount));

                for (uint i = 0; i < cardCount; i++) {
                    serializeCardInstance(stream, cards[i]);
                }
            }

            function changePlayerCardsInHand(
                SerializedGameStateChanges memory self,
                ZBGameMode.Player player,
                ZBGameMode.CardInstance[] cards
                ) internal pure {
                changePlayerCardsInHand(self, player, cards, cards.length);
            }

            function changePlayerInitialCardsInHandCount(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 count) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerInitialCardsInHandCount, player);
                stream.writeUint8(count);
            }

            function changePlayerMaxCardsInPlay(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 count) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerMaxCardsInPlay, player);
                stream.writeUint8(count);
            }

            function changePlayerMaxCardsInHand(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 count) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerMaxCardsInHand, player);
                stream.writeUint8(count);
            }

            function changePlayerMaxGooVials(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 count) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerMaxGooVials, player);
                stream.writeUint8(count);
            }

            function changePlayerTurnTime(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint32 turnTime) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerTurnTime, player);
                stream.writeUint32(turnTime);
            }

            // SerializedCustomUi

            function init(SerializedCustomUi memory self) internal pure {
                init(self, defaultSerializedCustomUiBufferSize);
            }

            function init(SerializedCustomUi memory self, uint bufferSize) internal pure {
                self.stream = SerialityBinaryStream.BinaryStream(new bytes(bufferSize), bufferSize);
            }

            function getBytes(SerializedCustomUi memory self) internal pure returns (bytes) {
                return self.stream.buffer;
            }

            function add(SerializedCustomUi memory self, ZBGameMode.CustomUiLabel label) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartCustomUiElement(stream, ZBEnum.CustomUiElement.Label, label.rect);
                stream.writeString(label.text);
            }

            function add(SerializedCustomUi memory self, ZBGameMode.CustomUiButton button) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartCustomUiElement(stream, ZBEnum.CustomUiElement.Button, button.rect);
                stream.writeString(button.title);
                stream.writeBytes(button.onClickCallData);
            }

            function serializeStartCustomUiElement(SerialityBinaryStream.BinaryStream memory stream, ZBEnum.CustomUiElement element) private pure {
                stream.writeInt32(int32(element));
            }

            function serializeStartCustomUiElement(
                SerialityBinaryStream.BinaryStream memory stream,
                ZBEnum.CustomUiElement element,
                ZBGameMode.Rect rect
                ) private pure {
                serializeStartCustomUiElement(stream, element);
                serializeRect(stream, rect);
            }

            function serializeRect(SerialityBinaryStream.BinaryStream memory stream, ZBGameMode.Rect rect) private pure {
                serializeVector2Int(stream, rect.position);
                serializeVector2Int(stream, rect.size);
            }

            function serializeVector2Int(SerialityBinaryStream.BinaryStream memory stream, ZBGameMode.Vector2Int v) private pure {
                stream.writeInt32(v.x);
                stream.writeInt32(v.y);
            }
        }
    answer: |
      pragma solidity 0.4.25;

      import "./ZB/ZBGameMode.sol";

      contract ExampleGame is ZBGameMode  {

          function beforeMatchStart(bytes serializedGameState) external {

              GameState memory gameState;
              gameState.init(serializedGameState);

          }
      }
---

ì´ë²ˆ ì±•í„°ì—ì„œëŠ”, ì•Œì•„ë³´ê¸° í˜ë“  ë°”ì´íŠ¸ ë°°ì—´ì¸ `serializedGameState`ì„ ìš°ë¦¬ê°€ ì‰½ê²Œ ì½ê³  ì½ê³  ìƒí˜¸ì‘ìš© í•˜ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ë¶„í•´í•  ê²ƒì´ë„¤.

`ZBGameMode.sol`ì—ì„œ ìš°ë¦¬ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë˜ í•˜ë‚˜ì˜ í—¬í¼ êµ¬ì¡°ì²´ëŠ” `GameState`ì´ë„¤ - ê·¸ë¦¬ê³  ì´ëŠ” `serializedGameState` ì•ˆì˜ ëª¨ë“  ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ” ë°ì´í„° êµ¬ì¡°ì²´ì´ë„¤.

ì´ ì•ˆì— ë¬´ì—‡ì´ ìˆëŠ”ì§€ í™•ì¸í•´ë³´ë„ë¡ í•˜ì§€.

## `GameState`

`GameState`ëŠ” í˜„ì¬ ë§¤ì¹˜ì˜ ì „ì²´ ìƒíƒœë¥¼ í¬í•¨í•˜ëŠ” ì¤‘ì²© `struct`ì´ë„¤ - ê·¸ë¦¬ê³  ìš°ë¦¬ê°€ ë°”ê¾¸ê³  ì‹¶ì–´í•  ìˆ˜ë„ ìˆëŠ” ëª¨ë“  ë³€ìˆ˜ë„ í¬í•¨í•˜ì§€. ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìƒê²¼ë„¤:

> ì°¸ê³ : ì•„ì§ ì´ ëª¨ë“  ë¶€ë¶„ë“¤ì´ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ê±±ì •í•  í•„ìš”ëŠ” ì—†ë„¤ - ê·¸ì¤‘ ëŒ€ë¶€ë¶„ì€ ì´ë¦„ë§Œ ë´ë„ ì•Œ ìˆ˜ ìˆì„ ê²ƒì´ì§€ë§Œ ë§ì´ì•¼. ìš°ë¦¬ëŠ” ë‹¤ìŒ ì±•í„°ë“¤ì—ì„œ ì‹¤ì œ ì„¸ê³„ì˜ ì˜ˆì‹œë“¤ê³¼ í•¨ê»˜ í•˜ë‚˜í•˜ë‚˜ ë¶„ì„í•´ë‚˜ê°ˆ ê²ƒì´ë„¤. ì´ê±´ ê·¸ì € ìë„¤ì—ê²Œ í° ê·¸ë¦¼ìœ¼ë¡œ ê°œìš”ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ê²ƒì´ë„¤.

```
struct GameState {
    int64 id;
    uint8 currentPlayerIndex;
    PlayerState[] playerStates;
}

struct PlayerState {
    string id;
    CardInstance[] cardsInHand;
    CardInstance[] cardsInDeck;
    Deck deck;
    uint8 defense;
    uint8 currentGoo;
    uint8 gooVials;
    uint8 initialCardsInHandCount;
    uint8 maxCardsInPlay;
    uint8 maxCardsInHand;
    uint8 maxGooVials;
}

struct CardInstance {
    int32 instanceId;
    string mouldName;
    int32 defense;
    bool defenseInherited;
    int32 attack;
    bool attackInherited;
    int32 gooCost;
    bool gooCostInherited;
}

struct Deck {
    int64 id;
    string name;
    int64 heroId;
}
```

ì§§ê²Œ ë§í•´: GameStateëŠ” 2ëª…ì˜ í”Œë ˆì´ì–´ ë°ì´í„°ë¥¼ í¬í•¨í•˜ê³ , ê° í”Œë ˆì´ì–´ë“¤ ë°ì´í„°ëŠ” ì—¬ëŸ¬ ìƒíƒœê°’ê³¼ ì¹´ë“œë“¤ì˜ ì§‘í•© ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆë„¤.

í–¥í›„ ìš°ë¦¬ëŠ” ì´ `GameState` êµ¬ì¡°ì²´ì™€ ìƒí˜¸ì‘ìš©ì„ í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ ê²ƒì´ë„¤. í•˜ì§€ë§Œ ë¨¼ì € `serializedGameState`ì˜ ë°ì´í„°ë¡œ ì´ë¥¼ ì´ˆê¸°í™”í•˜ë„ë¡ í•´ë³´ì§€.

## `GameState` ì´ˆê¸°í™”í•˜ê¸°

ìë„¤ê°€ ì²˜ìŒ í•  ê²ƒì€ ìƒˆë¡œìš´ `GameState`ë¥¼ ë©”ëª¨ë¦¬ì— ì„ ì–¸í•˜ëŠ” ê²ƒì´ë„¤:

```
GameState memory gameState;
```

ê·¸ë¦¬ê³ ì„œ ìš°ë¦¬ëŠ” `init` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ `serializedGameState`ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ì½ê³  ì´ ë°ì´í„°ë¡œ ìš°ë¦¬ì˜ `gameState`ì— ê°’ì„ ë„£ì„ ê²ƒì´ë„¤:

```
gameState.init(serializedGameState);
```

> ì°¸ê³ : `init`ì˜ ë‚´ë¶€ ë¡œì§ì€ `ZBSerializer.sol` ì•ˆì— ìˆì§€ë§Œ, ê½¤ ë³µì¡í•˜ì§€. í•˜ì§€ë§Œ ì´ëŠ” ë¬¼ë°‘ì—ì„œ ì´ë¤„ì§€ëŠ” ì‘ì—…ë“¤ì´ê¸°ì—, ìë„¤ê°€ ì»¤ìŠ¤í…€ ê²Œì„ ëª¨ë“œë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì´ë¥¼ ì´í•´í•  í•„ìš”ëŠ” ì—†ë„¤ - ìë„¤ê°€ ì—„ì²­ë‚œ ê°œë°œë•í›„ê°€ ì•„ë‹ˆë¼ë©´ ë§ì´ì§€ ğŸ˜‰.
>
> ì¤‘ìš”í•œ ì ì€, ì¢€ë¹„ ë°°í‹€ê·¸ë¼ìš´ë“œì˜ í•µì‹¬ì ì¸ ê²Œì„ ë¡œì§ì—ì„œ `ZBSerializer`ì—ì„œ ì“°ëŠ” ê²ƒê³¼ ì •í™•íˆ ê°™ì€ ì¸ì½”ë”©/ë””ì½”ë”© í˜•íƒœë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì´ì§€. ê·¸ë˜ì„œ ê²Œì„ì˜ ë‘ ë¶€ë¶„ì—ì„œ ì„œë¡œ ì˜ì‚¬ì†Œí†µì„ í•˜ê³  ì „ì²´ ê²Œì„ ìƒíƒœë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆëŠ” ê²ƒì´ë„¤.

ì´ì œ `gameState`ì— ë°ì´í„°ê°€ ëª¨ë‘ ë“¤ì–´ê°”ìœ¼ë‹ˆ, `gameState`ì˜ í•˜ìœ„ ì†ì„±ë“¤ì„ ì‚¬ìš©í•´ í˜„ì¬ ê²Œì„ì˜ ìƒíƒœì— ì ‘ê·¼í•  ìˆ˜ ìˆì„ ê²ƒì´ë„¤.

ì˜ˆë¥¼ ë“¤ì–´, í”Œë ˆì´ì–´1ì˜ ë±ì— ìˆëŠ” ì²« ë²ˆì§¸ ì¹´ë“œì˜ ì´ë¦„ì„ ì•Œê³  ì‹¶ë‹¤ë©´, ì´ë ‡ê²Œ í•˜ë©´ ë˜ë„¤:

```
gameState.playerStates[0].cardsInDeck[0].mouldName
```

í˜¹ì€ ë‹¤ìŒê³¼ ê°™ì´ ì¨ì„œ í”Œë ˆì´ì–´2ì˜ í˜„ì¬ ì˜¤ë²„ë¡œë“œ ë°©ì–´ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆì§€:

```
gameState.playerStates[1].defense
```

ìš°ë¦¬ëŠ” ì´ì— ëŒ€í•´ í–¥í›„ ì±•í„°ë“¤ì—ì„œ ê³„ì† ì‚´í´ë³¼ ê²ƒì´ë„¤. ìš°ë¦¬ê°€ ì´ëŸ° ê²ƒë“¤ì„ ì‚¬ìš©í•  í•„ìš”ê°€ ìˆìœ¼ë‹ˆ ë§ì´ë„¤.

## ì§ì ‘ í•´ë³´ê¸°

1. `GameState` í•˜ë‚˜ë¥¼ `memory`ì— `gameState`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì„ ì–¸í•˜ê²Œ.
2. `gameState.init` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë˜, ì—¬ê¸°ì— `serializedGameState`ë¥¼ ì „ë‹¬í•˜ê²Œ.
